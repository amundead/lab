<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <system.webServer>
        <!-- Specify PHP handler -->
        <handlers>
            <!-- This tells IIS how to process PHP files -->
            <add name="PHP" path="*.php" verb="*" modules="FastCgiModule" scriptProcessor="C:\php\php-cgi.exe" resourceType="Unspecified" />
        </handlers>

        <!-- Error handling to display detailed error messages -->
        <httpErrors errorMode="Detailed" />

        <!-- Configure the default document (index.php) -->
        <defaultDocument>
            <files>
                <add value="index.php" />
            </files>
        </defaultDocument>

        <!-- Set permissions for PHP to handle errors -->
        <security>
            <requestFiltering>
                <requestLimits maxQueryString="2048" />
            </requestFiltering>
        </security>

        <!-- Allow FastCGI to handle PHP -->
        <fastCgi>
            <application fullPath="C:\php\php-cgi.exe" maxInstances="1" idleTimeout="300" instancesPerCpu="1" />
        </fastCgi>
    </system.webServer>
</configuration>
